{% extends "base.html" %} {% block title %}Home - Food Wastage Reduction App{%
endblock %} {% block content %}
<div class="container">
  <!-- Hero Section -->
  <div class="row align-items-center my-5">
    <div class="col-lg-6">
      <h1 class="display-4 fw-bold text-success">
        Reduce Food Waste, Fight Hunger
      </h1>
      <p class="lead">
        Connect restaurants with NGOs to rescue surplus food and make a positive
        impact on your community.
      </p>
      <div class="d-grid gap-2 d-md-flex">
        {% if not current_user.is_authenticated %}
        <a
          href="{{ url_for('auth.register') }}"
          class="btn btn-success btn-lg me-md-2"
        >
          <i class="bi bi-person-plus"></i> Join Now
        </a>
        <a
          href="{{ url_for('auth.login') }}"
          class="btn btn-outline-success btn-lg"
        >
          <i class="bi bi-box-arrow-in-right"></i> Login
        </a>
        {% else %}
        <a href="{{ url_for('dashboard') }}" class="btn btn-success btn-lg">
          <i class="bi bi-house"></i> Go to Dashboard
        </a>
        {% endif %}
      </div>
    </div>
    <div class="col-lg-6 text-center">
      <img
        src="https://images.pexels.com/photos/6994946/pexels-photo-6994946.jpeg?auto=compress&cs=tinysrgb&w=500"
        class="img-fluid rounded shadow"
        alt="Food donation"
      />
    </div>
  </div>

  <!-- Statistics -->
  <div class="row my-5">
    <div class="col-md-4 text-center">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <i class="bi bi-shop display-4 text-success"></i>
          <h5 class="card-title mt-3">For Restaurants</h5>
          <p class="card-text">
            Easily donate surplus food instead of throwing it away. Make a
            positive impact.
          </p>
        </div>
      </div>
    </div>
    <div class="col-md-4 text-center">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <i class="bi bi-heart display-4 text-success"></i>
          <h5 class="card-title mt-3">For NGOs</h5>
          <p class="card-text">
            Find and claim food donations to help feed those in need in your
            community.
          </p>
        </div>
      </div>
    </div>
    <div class="col-md-4 text-center">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <i class="bi bi-globe display-4 text-success"></i>
          <h5 class="card-title mt-3">For Community</h5>
          <p class="card-text">
            Together we can reduce waste and ensure no one goes hungry.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Donations -->
  {% if donations %}
  <div class="row my-5">
    <div class="col-12">
      <h2 class="text-center mb-4">Recent Food Donations</h2>
      <div class="row">
        {% for donation in donations %}
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="card card-hover h-100">
            {% if donation.image_path %}
            <img
              src="{{ url_for('static', filename='uploads/' + donation.image_path) }}"
              class="card-img-top"
              style="height: 200px; object-fit: cover"
              alt="{{ donation.title }}"
            />
            {% else %}
            <img
              src="https://images.pexels.com/photos/1640774/pexels-photo-1640774.jpeg?auto=compress&cs=tinysrgb&w=300"
              class="card-img-top"
              style="height: 200px; object-fit: cover"
              alt="Food donation"
            />
            {% endif %}
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{ donation.title }}</h5>
              <p class="card-text">
                {{ donation.description[:100] }}{% if
                donation.description|length > 100 %}...{% endif %}
              </p>
              <div class="mt-auto">
                <span class="badge bg-primary">{{ donation.food_type }}</span>
                <span class="badge bg-info">{{ donation.quantity }}</span>
                <div class="text-muted time-left mt-2">
                  <i class="bi bi-clock"></i> {{ donation|time_left }}
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="text-center">
        {% if current_user.is_authenticated %}
        <a
          href="{{ url_for('donations.list_donations') }}"
          class="btn btn-outline-success"
        >
          View All Donations <i class="bi bi-arrow-right"></i>
        </a>
        {% else %}
        <p class="text-muted">
          <a href="{{ url_for('auth.login') }}">Login</a> to view and claim
          donations
        </p>
        {% endif %}
      </div>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}
